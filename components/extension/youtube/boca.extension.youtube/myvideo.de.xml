<VideoSite>
  <name>MyVideo.de</name>
  <version>1.0</version>
  <decoder>ffmpeg-flv_audio-in</decoder>

  <script type="text/javascript">
    function canHandleURL(URL) {
      if (URL.toLowerCase().match(/http:\/\/www.myvideo.de\/watch\/.*/)) return true;
      else								 return false;
    }

    function getVideoURL(html) {
      return html.match(/&lt;link rel='image_src' href='(.*?)' \/&gt;/), (RegExp.$1).replace(/thumbs\//, "").replace(/_[0-9]+.jpg/, ".flv");
    }

    function queryMetadata(html) {
      var metadata = new Metadata();

      metadata.title	   = (html.match(/&lt;h1 class='globalHd'&gt;(.*?)&lt;\/h1&gt;/) ? RegExp.$1 : null);
      metadata.description = (html.match(/Beschreibung: &lt;\/div&gt;&lt;div .*?&gt;&lt;div&gt;((?:.|\n|\r)*?)&lt;\/div&gt;&lt;\/div&gt;/) ? RegExp.$1 : null);

      metadata.date	   = (html.match(/Eingestellt am: (.*?)&lt;\/div&gt;/) ? RegExp.$1 : null);
      metadata.thumbnail   = (html.match(/&lt;link rel='image_src' href=\'(.*?)' \/&gt;/) ? RegExp.$1 : null);

      metadata.uploader	   = (html.match(/Von: &lt;a .*?&gt;(.*?)&lt;\/a&gt;/) ? RegExp.$1 : null);

      return metadata;
    }
  </script>
</VideoSite>
